{
  "hash": "2df9a077cc4167539ce3385469f51a16",
  "result": {
    "markdown": "---\ntitle: \"Drawing a star in R with ggplot\"\nsubtitle: \"A star shines!\"\nauthor: \"Ricardo\"\ndate: \"2022-10-13\"\ncategories: [code, ggplot2, Lula, PT, R, star]\nimage: \"image.png\"\ndraft: false\n---\n\n\n\n\n## What this post is about?\n\n- Drawing a star using `ggplot2` in R Language.\n\n\n## History:\n\nIn Brazil we are about to choose the next President for the 4 years ahead.\n\nI am a workers party supporter (PT, *Partido dos Trabalhadores*), with **[Lula](https://twitter.com/LulaOficial)** as our candidate.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Lulinha peace and love <3](lula.jpeg){#fig-lula width=375}\n:::\n:::\n\n\nWith this being told, the PT flag is a white star in a red background, my plan is to draw this, showing all the steps to do it.\n\n\n## Hands on!\n\nFirst of all, we will need to load `dplyr` and `ggplot2`, the package of functions that we will use in this session:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr) # data wrangling\nlibrary(ggplot2) # plots\n```\n:::\n\n\nLet's start by creating our blank canvas:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()\n```\n\n::: {.cell-output-display}\n![Blank canvas.](index_files/figure-html/plot01-1.png){width=672}\n:::\n:::\n\n\nNow we can ask to ggplot to put a void theme (without texts or axis), and then to add a red background:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nred <- ggplot() +\n\ttheme_void() +\n\ttheme(plot.background = element_rect(fill = \"red\"))\n\nred\n```\n\n::: {.cell-output-display}\n![Red canvas.](index_files/figure-html/plot02-1.png){width=672}\n:::\n:::\n\n\nThe challenge now is to draw by draft our star. First, let's study how it is:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![A star and its coordinates.](star.jpg){#fig-star width=150%}\n:::\n:::\n\n\nTo do this, let's create a `tibble` with the `x` and `y` coordinates (11 to close the polygon):\n\n\n::: {.cell}\n\n```{.r .cell-code}\nr <- rep_len(x = c(100, 100 * sin(pi/10) / cos(pi/5)), \n\t\t\t length.out = 11)\n\nstar <- tibble(coord = 1:11,\n\t\t\t   x = r * sin(seq(0, 2 * pi, length.out = 11)),\n\t\t\t   y = r * cos(seq(0, 2 * pi, length.out = 11)))\n\nknitr::kable(star, align = \"c\")\n```\n\n::: {.cell-output-display}\n| coord |     x     |    y     |\n|:-----:|:---------:|:--------:|\n|   1   |  0.00000  | 100.0000 |\n|   2   | 22.45140  | 30.9017  |\n|   3   | 95.10565  | 30.9017  |\n|   4   | 36.32713  | -11.8034 |\n|   5   | 58.77853  | -80.9017 |\n|   6   |  0.00000  | -38.1966 |\n|   7   | -58.77853 | -80.9017 |\n|   8   | -36.32713 | -11.8034 |\n|   9   | -95.10565 | 30.9017  |\n|  10   | -22.45140 | 30.9017  |\n|  11   |  0.00000  | 100.0000 |\n\n\n\nStar coordinates.\n:::\n:::\n\n\nNow, let's include the star coordinates (and the paths) within the red plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nred +\n\tgeom_polygon(data = star, mapping = aes(x = x, y = y))\n```\n\n::: {.cell-output-display}\n![Almost there.](index_files/figure-html/plot03-1.png){width=672}\n:::\n:::\n\n\nThe next step is to paint the star in white color, and also fix the coordinates:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npt <- red +\n\tgeom_polygon(data = star, mapping = aes(x = x, y = y),\n\t\t\t\t fill = \"white\") +\n\tcoord_equal()\n\npt \n```\n\n::: {.cell-output-display}\n![The workers party flag!](index_files/figure-html/plot04-1.png){width=672}\n:::\n:::\n\n\nOur PT flag is ready!\n\nJust to complete, we can include the number of the party in the middle of the star, the number 13!\n\n\n::: {.cell}\n\n```{.r .cell-code}\npt +\n\tannotate(geom = \"text\",\n\t\t\t label = 13,\n\t\t\t x = -4,\n\t\t\t y = 0,\n\t\t\t size = 40,\n\t\t\t color = \"red\")\n```\n\n::: {.cell-output-display}\n![It is ready!](index_files/figure-html/plot05-1.png){width=672}\n:::\n:::\n\n\nWe have our flag! \n\nThe next step is to dress all red at October 30th 2022, vote in our great eletronic voting machines, and hope for the best!\n\nMake the L!\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Faz o L!](L.jpg){#fig-L width=640}\n:::\n:::\n\n\nCheers,\n\nR.\n\n\n---\n\n\n### Session information\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessioninfo::session_info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.2.1 (2022-06-23)\n os       Ubuntu 20.04.5 LTS\n system   x86_64, linux-gnu\n ui       X11\n language en_GB:en\n collate  pt_BR.UTF-8\n ctype    pt_BR.UTF-8\n tz       America/Recife\n date     2022-10-13\n pandoc   2.18 @ /usr/lib/rstudio/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package     * version date (UTC) lib source\n assertthat    0.2.1   2019-03-21 [1] CRAN (R 4.2.0)\n cli           3.3.0   2022-04-25 [1] CRAN (R 4.2.0)\n colorspace    2.0-3   2022-02-21 [1] CRAN (R 4.2.0)\n crayon        1.5.1   2022-03-26 [1] CRAN (R 4.2.0)\n DBI           1.1.2   2021-12-20 [1] CRAN (R 4.2.0)\n digest        0.6.29  2021-12-01 [1] CRAN (R 4.2.0)\n dplyr       * 1.0.9   2022-04-28 [1] CRAN (R 4.2.0)\n ellipsis      0.3.2   2021-04-29 [1] CRAN (R 4.2.0)\n evaluate      0.17    2022-10-07 [1] CRAN (R 4.2.1)\n fansi         1.0.3   2022-03-24 [1] CRAN (R 4.2.0)\n farver        2.1.0   2021-02-28 [1] CRAN (R 4.2.0)\n fastmap       1.1.0   2021-01-25 [1] CRAN (R 4.2.0)\n generics      0.1.2   2022-01-31 [1] CRAN (R 4.2.0)\n ggplot2     * 3.3.6   2022-05-03 [1] CRAN (R 4.2.0)\n glue          1.6.2   2022-02-24 [1] CRAN (R 4.2.0)\n gtable        0.3.0   2019-03-25 [1] CRAN (R 4.2.0)\n highr         0.9     2021-04-16 [1] CRAN (R 4.2.0)\n htmltools     0.5.3   2022-07-18 [1] CRAN (R 4.2.1)\n htmlwidgets   1.5.4   2021-09-08 [1] CRAN (R 4.2.0)\n jpeg          0.1-9   2021-07-24 [1] CRAN (R 4.2.0)\n jsonlite      1.8.2   2022-10-02 [1] CRAN (R 4.2.1)\n knitr         1.40    2022-08-24 [1] CRAN (R 4.2.1)\n labeling      0.4.2   2020-10-20 [1] CRAN (R 4.2.0)\n lifecycle     1.0.1   2021-09-24 [1] CRAN (R 4.2.0)\n magrittr      2.0.3   2022-03-30 [1] CRAN (R 4.2.0)\n munsell       0.5.0   2018-06-12 [1] CRAN (R 4.2.0)\n pillar        1.7.0   2022-02-01 [1] CRAN (R 4.2.0)\n pkgconfig     2.0.3   2019-09-22 [1] CRAN (R 4.2.0)\n purrr         0.3.4   2020-04-17 [1] CRAN (R 4.2.0)\n R6            2.5.1   2021-08-19 [1] CRAN (R 4.2.0)\n rlang         1.0.6   2022-09-24 [1] CRAN (R 4.2.1)\n rmarkdown     2.17    2022-10-07 [1] CRAN (R 4.2.1)\n rstudioapi    0.13    2020-11-12 [1] CRAN (R 4.2.0)\n scales        1.2.0   2022-04-13 [1] CRAN (R 4.2.0)\n sessioninfo   1.2.2   2021-12-06 [1] CRAN (R 4.2.1)\n stringi       1.7.8   2022-07-11 [1] CRAN (R 4.2.1)\n stringr       1.4.1   2022-08-20 [1] CRAN (R 4.2.1)\n tibble        3.1.7   2022-05-03 [1] CRAN (R 4.2.0)\n tidyselect    1.1.2   2022-02-21 [1] CRAN (R 4.2.0)\n utf8          1.2.2   2021-07-24 [1] CRAN (R 4.2.0)\n vctrs         0.4.1   2022-04-13 [1] CRAN (R 4.2.0)\n withr         2.5.0   2022-03-03 [1] CRAN (R 4.2.0)\n xfun          0.33    2022-09-12 [1] CRAN (R 4.2.1)\n yaml          2.3.5   2022-02-21 [1] CRAN (R 4.2.0)\n\n [1] /home/ricardo/R/x86_64-pc-linux-gnu-library/4.2\n [2] /usr/local/lib/R/site-library\n [3] /usr/lib/R/site-library\n [4] /usr/lib/R/library\n\n──────────────────────────────────────────────────────────────────────────────\n```\n:::\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}